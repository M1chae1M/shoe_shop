(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{9766:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return n(4978)}])},8519:function(e,t,n){"use strict";n.r(t);var l=n(5893),r=n(7294);let i=e=>class extends r.Component{componentDidMount(){let e=localStorage.getItem("token");fetch("".concat("http://localhost:3000/api/","auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then(e=>e.json()).then(e=>{let{logged:t,login:n,token:l,img:r}=e;this.setState({logged:t,login:n,token:l,img:r})})}render(){let{logged:t,login:n,token:r,img:i}=this.state,s=()=>this.setState({logged:!1,login:"",token:"",img:""}),o=e=>this.setState(e);return(0,l.jsx)(e,{profile:{login:n,token:r,img:i,resetLoggedState:s},changeAuthState:o,logged:t,...this.props})}constructor(...e){super(...e),this.state={logged:!1}}};t.default=i},2639:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var l=n(5893),r=n(7294),i=n(6004);class s extends r.Component{render(){let{value:e,onClick:t,className:n,hidden:r}=this.props,s={BTN:{cursor:"pointer",fontWeight:"bold",color:i.glbl._yellow_color,bottom:"0%",padding:"5px 0px",boxShadow:"0px -2px grey, 2px 0px grey,-2px 0px grey,0px 2px grey",border:"none",width:"100%",textAlign:"center",backgroundColor:i.glbl._green_color,background:i.glbl._gradient,opacity:r?0:1,position:r?"absolute":"relative",transition:"all 0.125s ease-in-out"}};return(0,l.jsx)("input",{type:"button",value:e,style:s.BTN,onClick:t,className:n})}}},1595:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var l=n(5893),r=n(7294),i=n(8117),s=n(7069),o=n(471),a=n(6004),d=n(1664),c=n.n(d);class h extends r.Component{render(){let{data:e,cart:t}=this.props,{id:n,image:r,name:d,price:h,howMany:u,sizeState:p}=e,x={inCart:{display:"grid",gridTemplateColumns:"calc(".concat(a.glbl._field_height," + 8px) calc(").concat(a.glbl._field_height," * 2) auto"),margin:"8px 0px",justifyItems:"center",alignItems:"center",position:"relative",overflow:"hidden"},close:{fontSize:"60px",color:"red"}};return(0,l.jsx)(i.Store.Consumer,{children:e=>{var i,a,g;let{changeState:f}=null!=e?e:{},y=null===(a=(i=h*u).toFixed)||void 0===a?void 0:a.call(i,2),m=()=>{let e;t.map((t,n)=>{t.name===d&&(e=n)});let n=[...t.slice(0,e),...t.slice(e+1)];localStorage.setItem("cart",JSON.stringify(n)),f({cart:n})};return(0,l.jsxs)("div",{style:x.inCart,children:[(0,l.jsx)(c(),{href:"/products/".concat(n),children:(0,l.jsx)(s.default,{src:r,alt:"",x:"95px",y:"95px",id:"bigPhoto"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:["Name: ",d]}),(0,l.jsxs)("div",{children:["Size: ",p]}),(0,l.jsxs)("div",{children:["Price: ",null==h?void 0:null===(g=h.toFixed)||void 0===g?void 0:g.call(h,2)," PLN"]}),(0,l.jsxs)("div",{children:["How many: ",u]}),(0,l.jsxs)("div",{children:["Total: ",y," PLN"]})]}),(0,l.jsx)(o.Fk5,{style:x.close,onClick:m,className:"GreenBTN"})]})}})}}},4978:function(e,t,n){"use strict";n.r(t);var l=n(5893),r=n(7294),i=n(8117),s=n(1595),o=n(2639),a=n(1664),d=n.n(a),c=n(8519),h=n(1163),u=n.n(h),p=n(4143);class x extends r.Component{render(){let e={cart:{display:"grid",justifyItems:"center",alignContent:"center"},cartList:{overflowY:"scroll"},size:{maxHeight:"300px",minHeight:"300px",height:"300px"},empty:{display:"grid",width:"100%",height:"100%",justifyItems:"center",alignItems:"center"},total:{width:"300px",textAlign:"center"},header:{fontSize:"1.2rem",fontWeight:"bold"},hidden:{display:"none"}};return(0,l.jsx)(i.Store.Consumer,{children:t=>{let{cart:n,profile:r,changeState:i}=null!=t?t:{},{token:a}=null!=r?r:{},c=n.reduce((e,t)=>e+t.price*t.howMany,0).toFixed(2),h=()=>{a?fetch("".concat("http://localhost:3000/api/","order/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,cart:n})}).then(localStorage.removeItem("cart")).then(i({cart:[]})):u().push("/profile")};return(0,l.jsxs)("div",{style:e.cart,children:[(0,l.jsx)("div",{style:{...e.header},children:"Cart"}),n.length>0?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{...e.cartList,...e.size},children:null==n?void 0:n.map(e=>{let{time:t,...r}=e;return(0,l.jsx)(s.default,{data:r,cart:n},t)})}),(0,l.jsxs)("div",{style:e.total,children:["Total to be paid: ",c," PLN",(0,l.jsx)(o.default,{value:"PAY",className:"GreenBTN",onClick:h})]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:e.size,children:(0,l.jsx)("div",{style:e.empty,children:"Your cart is empty"})}),(0,l.jsxs)("div",{style:e.total,children:["First you need to add your orders to the cart",(0,l.jsx)(d(),{href:"/",children:(0,l.jsx)(o.default,{value:"Back to shop",className:"GreenBTN"})})]})]})]})}})}}t.default=(0,c.default)((0,p.default)((0,i.default)(x)))}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9766)}),_N_E=e.O()}]);